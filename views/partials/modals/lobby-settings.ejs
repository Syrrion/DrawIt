<div id="lobby-settings-modal" class="modal hidden">
    <div class="modal-content settings-content">
        <div class="modal-header">
            <h3><i class="fas fa-cog"></i> Paramètres de la partie</h3>
            <button id="btn-close-settings" class="close-btn"><i class="fas fa-times"></i></button>
        </div>
        
        <div class="settings-layout">
            <div class="settings-sidebar">
                <div class="gamemode-cards">
                    <div class="gamemode-card selected" data-mode="guess-word" data-tooltip="Un joueur dessine, les autres doivent deviner le mot le plus vite possible.">
                        <div class="card-icon"><i class="fas fa-pencil-alt"></i></div>
                        <div class="card-info">
                            <h4>Devine le dessin</h4>
                        </div>
                    </div>
                    <div class="gamemode-card" data-mode="custom-word" data-tooltip="Le dessinateur choisit son propre mot à faire deviner.">
                        <div class="card-icon"><i class="fas fa-keyboard"></i></div>
                        <div class="card-info">
                            <h4>Mot personnalisé</h4>
                        </div>
                    </div>
                    <div class="gamemode-card" data-mode="ai-theme" data-tooltip="Mots générés par IA selon un thème choisi. Idéal pour des parties thématiques !">
                        <span class="ai-badge">IA</span>
                        <div class="card-icon"><i class="fas fa-shapes"></i></div>
                        <div class="card-info">
                            <h4>Thématique</h4>
                        </div>
                    </div>
                    <div class="gamemode-card" data-mode="creative" data-tooltip="Tout le monde dessine le même thème, puis vote pour le meilleur dessin.">
                        <div class="card-icon"><i class="fas fa-palette"></i></div>
                        <div class="card-info">
                            <h4>Mode Créatif</h4>
                        </div>
                    </div>
                    <div class="gamemode-card" data-mode="telephone" data-tooltip="Bouche à oreille dessiné : écrivez, dessinez, devinez en chaîne !">
                        <div class="card-icon"><i class="fas fa-phone-alt"></i></div>
                        <div class="card-info">
                            <h4>Téléphone Dessiné</h4>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="settings-main">
                <div id="gamemode-description" class="gamemode-description">
                    Un joueur dessine, les autres doivent deviner le mot le plus vite possible.
                </div>

                <div id="settings-guess-word" class="mode-settings">
                    <div class="settings-grid compact-grid">
                        <div class="modal-slider-item full-width hidden" id="setting-group-ai-theme">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-brain"></i>
                                    <span>Thème</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Le thème utilisé par l'IA pour générer les mots."></i>
                                </div>
                            </div>
                            <input type="text" id="setting-ai-theme" value="Animaux" placeholder="Ex: Animaux, sports, cuisine..." maxlength="50">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-clock"></i>
                                    <span>Temps de dessin</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Temps imparti pour chaque dessin."></i>
                                    <div class="modal-slider-value"><span id="setting-drawtime-val">80</span>s</div>
                                </div>
                            </div>
                            <input type="range" id="setting-drawtime" value="80" min="30" max="300" class="slider">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-hourglass-half"></i>
                                    <span>Temps de choix</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Temps pour choisir un mot parmi les propositions."></i>
                                    <div class="modal-slider-value"><span id="setting-wordchoicetime-val">20</span>s</div>
                                </div>
                            </div>
                            <input type="range" id="setting-wordchoicetime" value="20" min="10" max="60" class="slider">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-list-ol"></i>
                                    <span>Choix de mots</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Nombre de mots proposés au dessinateur."></i>
                                    <div class="modal-slider-value"><span id="setting-wordchoices-val">3</span></div>
                                </div>
                            </div>
                            <input type="range" id="setting-wordchoices" value="3" min="1" max="5" class="slider">
                        </div>
                        <div class="modal-slider-item hidden" id="setting-group-max-word-length">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-text-width"></i>
                                    <span>Longueur max</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Nombre maximum de lettres pour les mots proposés."></i>
                                    <div class="modal-slider-value"><span id="setting-max-word-length-val">20</span></div>
                                </div>
                            </div>
                            <input type="range" id="setting-max-word-length" value="20" min="5" max="30" class="slider">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-sync-alt"></i>
                                    <span>Tours</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Nombre de fois que chaque joueur dessinera."></i>
                                    <div class="modal-slider-value"><span id="setting-rounds-val">3</span></div>
                                </div>
                            </div>
                            <input type="range" id="setting-rounds" value="3" min="1" max="10" class="slider">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-lightbulb"></i>
                                    <span>Indices personnels</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Nombre d'indices que chaque joueur peut utiliser manuellement."></i>
                                    <div class="modal-slider-value"><span id="setting-personal-hints-val">3</span></div>
                                </div>
                            </div>
                            <input type="range" id="setting-personal-hints" min="0" max="10" value="3" class="slider">
                        </div>
                    </div>
                </div>

                <div id="settings-creative" class="mode-settings hidden">
                    <div class="settings-grid compact-grid">
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-clock"></i>
                                    <span>Temps de dessin</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Temps imparti pour réaliser son œuvre."></i>
                                    <div class="modal-slider-value"><span id="setting-creative-drawtime-val">180</span>s</div>
                                </div>
                            </div>
                            <input type="range" id="setting-creative-drawtime" value="180" min="60" max="600" class="slider">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-sync-alt"></i>
                                    <span>Tours</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Nombre de manches."></i>
                                    <div class="modal-slider-value"><span id="setting-creative-rounds-val">3</span></div>
                                </div>
                            </div>
                            <input type="range" id="setting-creative-rounds" value="3" min="1" max="10" class="slider">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-tv"></i>
                                    <span>Temps de présentation</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Temps pour admirer chaque dessin avant le vote."></i>
                                    <div class="modal-slider-value"><span id="setting-creative-presentationtime-val">10</span>s</div>
                                </div>
                            </div>
                            <input type="range" id="setting-creative-presentationtime" value="10" min="5" max="60" class="slider">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-vote-yea"></i>
                                    <span>Temps de vote</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Temps pour voter pour le meilleur dessin."></i>
                                    <div class="modal-slider-value"><span id="setting-creative-votetime-val">60</span>s</div>
                                </div>
                            </div>
                            <input type="range" id="setting-creative-votetime" value="60" min="10" max="180" class="slider">
                        </div>
                    </div>
                </div>

                <div id="settings-telephone" class="mode-settings hidden">
                    <div class="settings-grid compact-grid">
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-pen-alt"></i>
                                    <span>Temps d'écriture</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Temps pour décrire le dessin précédent."></i>
                                    <div class="modal-slider-value"><span id="setting-telephone-writetime-val">30</span>s</div>
                                </div>
                            </div>
                            <input type="range" id="setting-telephone-writetime" value="30" min="15" max="120" class="slider">
                        </div>
                        <div class="modal-slider-item">
                            <div class="modal-slider-header">
                                <div class="modal-slider-label">
                                    <i class="fas fa-clock"></i>
                                    <span>Temps de dessin</span>
                                </div>
                                <div class="modal-slider-controls">
                                    <i class="fas fa-info-circle setting-info" data-tooltip="Temps pour dessiner la description précédente."></i>
                                    <div class="modal-slider-value"><span id="setting-telephone-drawtime-val">180</span>s</div>
                                </div>
                            </div>
                            <input type="range" id="setting-telephone-drawtime" value="180" min="60" max="600" class="slider">
                        </div>
                    </div>
                </div>

                <div class="switches-container">
                    <div class="setting-group checkbox-group mode-specific guess-word-only">
                        <input type="checkbox" id="setting-fuzzy" checked>
                        <label for="setting-fuzzy">Accentuation non-stricte <i class="fas fa-info-circle setting-info" data-tooltip="Valide les réponses même sans les accents corrects (ex: 'e' pour 'é')."></i></label>
                    </div>
                    <div class="setting-group checkbox-group mode-specific guess-word-only">
                        <input type="checkbox" id="setting-hints" checked>
                        <label for="setting-hints">Indices progressifs <i class="fas fa-info-circle setting-info" data-tooltip="Dévoile automatiquement des lettres du mot au fil du temps."></i></label>
                    </div>
                    
                    <div class="setting-group checkbox-group mode-specific creative-only hidden">
                        <input type="checkbox" id="setting-anonymous-voting" checked>
                        <label for="setting-anonymous-voting">Votes Anonymes <i class="fas fa-info-circle setting-info" data-tooltip="Cache l'identité des votants jusqu'à la fin."></i></label>
                    </div>

                    <div class="setting-group checkbox-group">
                        <input type="checkbox" id="setting-allow-tracing" checked>
                        <label for="setting-allow-tracing">Autoriser les modèles de calques <i class="fas fa-info-circle setting-info" data-tooltip="Permet aux joueurs d'importer une image de référence et de la décalquer."></i></label>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-actions">
            <button id="btn-start-game" class="btn-primary">
                <i class="fas fa-play"></i> Lancer la partie
            </button>
        </div>
    </div>
</div>