<div id="lobby-settings-modal" class="modal hidden">
    <div class="modal-content settings-content">
        <div class="modal-header">
            <h3><i class="fas fa-cog"></i> Paramètres de la partie</h3>
            <button id="btn-close-settings" class="close-btn"><i class="fas fa-times"></i></button>
        </div>
        
        <div class="settings-layout">
            <div class="settings-sidebar">
                <label class="sidebar-label">Mode de jeu <i class="fas fa-info-circle setting-info" data-tooltip="Choisissez les règles de la partie."></i></label>
                <div class="gamemode-cards">
                    <div class="gamemode-card selected" data-mode="guess-word" data-tooltip="Un joueur dessine, les autres doivent deviner le mot le plus vite possible.">
                        <div class="card-icon"><i class="fas fa-pencil-alt"></i></div>
                        <div class="card-info">
                            <h4>Devine le dessin</h4>
                        </div>
                    </div>
                    <div class="gamemode-card" data-mode="custom-word" data-tooltip="Le dessinateur choisit son propre mot à faire deviner.">
                        <div class="card-icon"><i class="fas fa-keyboard"></i></div>
                        <div class="card-info">
                            <h4>Mot personnalisé</h4>
                        </div>
                    </div>
                    <div class="gamemode-card" data-mode="creative" data-tooltip="Tout le monde dessine le même thème, puis vote pour le meilleur dessin.">
                        <div class="card-icon"><i class="fas fa-palette"></i></div>
                        <div class="card-info">
                            <h4>Mode Créatif</h4>
                        </div>
                    </div>
                    <div class="gamemode-card" data-mode="telephone" data-tooltip="Téléphone arabe dessiné : écrivez, dessinez, devinez en chaîne !">
                        <div class="card-icon"><i class="fas fa-phone-alt"></i></div>
                        <div class="card-info">
                            <h4>Téléphone Dessiné</h4>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="settings-main">
                <div id="settings-guess-word" class="mode-settings">
                    <div class="settings-grid compact-grid">
                        <div class="setting-group">
                            <label>Temps de dessin <i class="fas fa-info-circle setting-info" data-tooltip="La durée (en secondes) dont dispose le joueur pour réaliser son dessin."></i></label>
                            <input type="number" id="setting-drawtime" value="80" min="30" max="300">
                        </div>
                        <div class="setting-group">
                            <label>Temps de choix <i class="fas fa-info-circle setting-info" data-tooltip="Le temps accordé au dessinateur pour choisir un mot."></i></label>
                            <input type="number" id="setting-wordchoicetime" value="20" min="10" max="60">
                        </div>
                        <div class="setting-group">
                            <label>Choix de mots <i class="fas fa-info-circle setting-info" data-tooltip="Le nombre de mots différents proposés au dessinateur."></i></label>
                            <input type="number" id="setting-wordchoices" value="3" min="1" max="5">
                        </div>
                        <div class="setting-group hidden" id="setting-group-max-word-length">
                            <label>Longueur max <i class="fas fa-info-circle setting-info" data-tooltip="Le nombre maximum de caractères autorisés pour un mot personnalisé."></i></label>
                            <input type="number" id="setting-max-word-length" value="20" min="5" max="30">
                        </div>
                        <div class="setting-group">
                            <label>Tours <i class="fas fa-info-circle setting-info" data-tooltip="Le nombre de fois que chaque joueur passera au dessin."></i></label>
                            <input type="number" id="setting-rounds" value="3" min="1" max="10">
                        </div>
                    </div>
                    <div class="setting-group" style="margin-top: 5px;">
                        <label for="setting-personal-hints" style="text-align: center; display: block; margin-bottom: 2px; font-size: 0.8rem;">Indices personnels: <span id="setting-personal-hints-val" style="color: var(--primary); font-weight: bold;">3</span> <i class="fas fa-info-circle setting-info" data-tooltip="Nombre d'indices supplémentaires que chaque joueur peut demander manuellement."></i></label>
                        <div class="slider-container">
                            <input type="range" id="setting-personal-hints" min="0" max="10" value="3" class="slider">
                        </div>
                    </div>
                </div>

                <div id="settings-creative" class="mode-settings hidden">
                    <div class="settings-grid compact-grid">
                        <div class="setting-group">
                            <label>Temps de dessin <i class="fas fa-info-circle setting-info" data-tooltip="La durée (en secondes) pour réaliser le dessin."></i></label>
                            <input type="number" id="setting-creative-drawtime" value="180" min="60" max="600">
                        </div>
                        <div class="setting-group">
                            <label>Tours <i class="fas fa-info-circle setting-info" data-tooltip="Le nombre de manches jouées."></i></label>
                            <input type="number" id="setting-creative-rounds" value="3" min="1" max="10">
                        </div>
                    </div>
                </div>

                <div id="settings-telephone" class="mode-settings hidden">
                    <div class="settings-grid compact-grid">
                        <div class="setting-group">
                            <label>Temps d'écriture <i class="fas fa-info-circle setting-info" data-tooltip="La durée (en secondes) pour écrire une phrase ou deviner."></i></label>
                            <input type="number" id="setting-telephone-writetime" value="30" min="15" max="120">
                        </div>
                        <div class="setting-group">
                            <label>Temps de dessin <i class="fas fa-info-circle setting-info" data-tooltip="La durée (en secondes) pour réaliser le dessin."></i></label>
                            <input type="number" id="setting-telephone-drawtime" value="60" min="30" max="300">
                        </div>
                    </div>
                </div>

                <div class="switches-container">
                    <div class="setting-group checkbox-group mode-specific guess-word-only">
                        <input type="checkbox" id="setting-fuzzy" checked>
                        <label for="setting-fuzzy">Accentuation non-stricte <i class="fas fa-info-circle setting-info" data-tooltip="Valide les réponses même sans les accents corrects (ex: 'e' pour 'é')."></i></label>
                    </div>
                    <div class="setting-group checkbox-group mode-specific guess-word-only">
                        <input type="checkbox" id="setting-hints" checked>
                        <label for="setting-hints">Indices progressifs <i class="fas fa-info-circle setting-info" data-tooltip="Dévoile automatiquement des lettres du mot au fil du temps."></i></label>
                    </div>
                    
                    <div class="setting-group checkbox-group mode-specific creative-only hidden">
                        <input type="checkbox" id="setting-anonymous-voting" checked>
                        <label for="setting-anonymous-voting">Votes Anonymes <i class="fas fa-info-circle setting-info" data-tooltip="Cache l'identité des votants jusqu'à la fin."></i></label>
                    </div>

                    <div class="setting-group checkbox-group">
                        <input type="checkbox" id="setting-allow-tracing" checked>
                        <label for="setting-allow-tracing">Autoriser les modèles de calques <i class="fas fa-info-circle setting-info" data-tooltip="Permet aux joueurs d'importer une image de référence et de la décalquer."></i></label>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-actions">
            <button id="btn-start-game" class="btn-primary">
                <i class="fas fa-play"></i> Lancer la partie
            </button>
        </div>
    </div>
</div>